---
title: "9:20:35 PM - October 17, 2025"
date: 2025-10-17T08:20:35.961Z
timestamp: 1760689235961
---

## Project Notes

Added comprehensive tracking for camera issues, video segments, and all user-facing alerts.

**New Analytics Events:**
- `camera_error_detail` - Detailed camera errors with device info
- `camera_frame_drops` - Frame drop statistics during recording
- `camera_settings` - Resolution, FPS, codec tracking
- `camera_switch` - Front/back camera switch performance
- `user_dialog_shown` - All error/info dialogs shown to users
- `user_snackbar_shown` - Toast messages and notifications
- `confirmation_dialog` - User choices on confirmations
- `permission_request` - Permission prompts and responses
- `camera_alert` - Camera-specific user-facing errors
- `video_playback_alert` - Video playback errors with segment info
- `network_alert` - Network connectivity issues
- `upload_alert` - Upload failures with file sizes

**Video Segment Analytics:**
Now tracks in `video_loading_complete` event:
- `total_segments` - Expected segment count
- `segments_loaded` - Successfully loaded segments
- `segments_failed` - Failed segment count
- `total_segment_bytes` - Total bytes loaded
- `avg_segment_load_ms` - Average time per segment

**Developer Experience:**
Created `TrackedAlerts` extension on BuildContext:
```dart
// Instead of showDialog(...) use:
await context.showTrackedErrorDialog(
  title: 'Camera Error',
  message: 'Failed to initialize camera',
  location: 'camera_screen',
);

// Instead of ScaffoldMessenger use:
context.showTrackedSnackbar(
  message: 'Video uploaded successfully',
  messageType: 'success',
  location: 'video_upload',
);
```

This makes it trivial to add tracking to existing code - just replace `showDialog` with `showTrackedErrorDialog` and we automatically get analytics for what users are seeing.

**Files created:**
- lib/services/alert_analytics_tracker.dart
- lib/utils/tracked_alerts.dart

**Files modified:**
- lib/services/camera_metrics_tracker.dart - Enhanced with detailed error tracking
- lib/services/video_loading_metrics.dart - Added segment tracking
