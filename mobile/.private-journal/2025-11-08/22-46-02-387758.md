---
title: "10:46:02 PM - November 8, 2025"
date: 2025-11-08T21:46:02.387Z
timestamp: 1762638362387
---

## Project Notes

**Bug Fix: "Maximum recording time reached" showing after every segment**

**Root Cause**: The UI listener in `universal_camera_screen_pure.dart` was triggering on EVERY recording stop (lines 367-380), not just max-duration auto-stops. The condition `previous.isRecording && !next.isRecording` is true for both manual segment stops AND max-duration auto-stops.

**Solution**: Added check for `remainingDuration` to distinguish:
- Manual stop: User releases button → `remainingDuration > 1 second` → Don't show message
- Auto-stop: Max time reached → `remainingDuration <= 1 second` → Show message

**Implementation**: Changed listener to check `next.remainingDuration.inSeconds <= 1` before calling `_handleRecordingAutoStop()`.

**Files Modified**:
- `lib/screens/pure/universal_camera_screen_pure.dart` (lines 367-403)

**Verification Needed**: Test on iOS simulator to confirm the message only appears when max recording time is truly reached, not after every 1-second segment.
