{
  "embedding": [
    -0.0792396292090416,
    -0.020375285297632217,
    -0.049526408314704895,
    -0.08736898005008698,
    0.0019699400290846825,
    -0.017955096438527107,
    0.03896946460008621,
    -0.03928698971867561,
    -0.06623540818691254,
    0.0075197904370725155,
    0.017117151990532875,
    -0.07168326526880264,
    0.046852611005306244,
    0.07158749550580978,
    0.009093696251511574,
    0.016512839123606682,
    0.008347411639988422,
    -0.09379277378320694,
    -0.009109794162213802,
    0.0053712851367890835,
    0.0011823229724541306,
    -0.04049503058195114,
    0.109097421169281,
    0.038168735802173615,
    -0.02487143501639366,
    -0.05949605628848076,
    0.057185057550668716,
    -0.09921523183584213,
    -0.05100710690021515,
    -0.038367632776498795,
    0.0297706201672554,
    0.01524804625660181,
    -0.07618489861488342,
    -0.02471168339252472,
    -0.02899169735610485,
    -0.017173971980810165,
    -0.023944126442074776,
    0.04570053890347481,
    -0.07618274539709091,
    -0.07920465618371964,
    0.00665221968665719,
    -0.03730602562427521,
    -0.05376160517334938,
    0.0040537952445447445,
    0.020459864288568497,
    -0.03721504658460617,
    -0.02523166872560978,
    0.01109559927135706,
    0.07866255193948746,
    0.008869114331901073,
    -0.024918153882026672,
    0.06198829412460327,
    -0.02093602530658245,
    -0.047960396856069565,
    0.05621412396430969,
    0.058810990303754807,
    0.05244367942214012,
    0.01249088067561388,
    0.0020399170462042093,
    0.03339280188083649,
    0.04101138189435005,
    0.017521684989333153,
    0.009528681635856628,
    -0.018555769696831703,
    0.023546768352389336,
    0.05533025786280632,
    -0.004110240377485752,
    -0.03532208129763603,
    0.04771241918206215,
    -0.015549726784229279,
    -0.053827788680791855,
    0.0002368191780988127,
    0.046512484550476074,
    -0.02022886462509632,
    0.024398645386099815,
    -0.07984223961830139,
    -0.03232467547059059,
    -0.02015065774321556,
    -0.01727236807346344,
    -0.1310858130455017,
    -0.10346648842096329,
    -0.05291133001446724,
    0.016902482137084007,
    0.04586820676922798,
    0.048043277114629745,
    0.056009214371442795,
    0.018991805613040924,
    -0.035454634577035904,
    -0.008672384545207024,
    0.05787380039691925,
    0.05880971625447273,
    0.033268701285123825,
    -0.06697964668273926,
    -0.03318680822849274,
    0.12724569439888,
    0.001706480048596859,
    0.0635448545217514,
    0.027595072984695435,
    -0.08315789699554443,
    0.02475857362151146,
    -0.004270478617399931,
    -0.018625205382704735,
    0.016410695388913155,
    0.07057873904705048,
    0.043875548988580704,
    -0.015105667524039745,
    0.04876609519124031,
    -0.12031128257513046,
    -0.03918687254190445,
    0.012095841579139233,
    0.02122233435511589,
    -0.028100458905100822,
    0.0602707602083683,
    -0.012651889584958553,
    0.0018978931475430727,
    0.05495641753077507,
    -0.02741902321577072,
    0.03901640325784683,
    0.037889037281274796,
    0.05303444713354111,
    0.10699956119060516,
    -0.020290866494178772,
    -0.0017569530755281448,
    -0.01756339892745018,
    0.03638766333460808,
    -0.00036873630597256124,
    0.017229748889803886,
    7.614208821469703e-33,
    0.020191490650177002,
    -0.04550131782889366,
    -0.03228732571005821,
    0.05155313014984131,
    -0.037240736186504364,
    0.020946171134710312,
    -0.0069906702265143394,
    0.01463964581489563,
    -0.02118578553199768,
    -0.022203242406249046,
    0.01868908479809761,
    0.014842656441032887,
    -0.017961997538805008,
    -0.03346838429570198,
    0.0009254334727302194,
    -0.04142484441399574,
    0.021687688305974007,
    -0.022351760417222977,
    0.012752711772918701,
    -0.010376283898949623,
    0.07598937302827835,
    -0.016681943088769913,
    -0.030745824798941612,
    -0.016952520236372948,
    -0.0391663983464241,
    0.03687280789017677,
    0.009732513688504696,
    0.07897701114416122,
    -0.07081091403961182,
    0.016194578260183334,
    0.024838626384735107,
    -0.048741910606622696,
    0.015524035319685936,
    0.03234102576971054,
    -0.05027586221694946,
    -0.05167026072740555,
    0.027383027598261833,
    -0.029469914734363556,
    -0.027763731777668,
    -0.1269189864397049,
    -0.08981700986623764,
    -0.03602235019207001,
    -0.03845278546214104,
    0.008641989901661873,
    -0.0022811400704085827,
    -0.08658157289028168,
    -0.01196288038045168,
    -0.001456251833587885,
    0.06726500391960144,
    0.07524693012237549,
    -0.0397753082215786,
    -0.007548111956566572,
    -0.03395203500986099,
    -0.13265521824359894,
    -0.07163650542497635,
    -0.016178758814930916,
    -0.020145893096923828,
    -0.011135464534163475,
    -0.050054628401994705,
    -0.08736740052700043,
    -0.055645957589149475,
    -0.01928223855793476,
    -0.04976120591163635,
    -0.005288747604936361,
    -0.013782312162220478,
    0.04966233670711517,
    -0.04210183396935463,
    -0.038634292781353,
    0.03440545126795769,
    -0.06842879205942154,
    -0.07861410826444626,
    0.011008440516889095,
    0.0282063540071249,
    0.0022512786090373993,
    0.009427163749933243,
    -0.028046397492289543,
    0.08539243042469025,
    0.04202871769666672,
    -0.08958037942647934,
    -0.07057541608810425,
    0.0509151816368103,
    -0.02365989051759243,
    -0.06917672604322433,
    0.009915926493704319,
    0.07768107205629349,
    -0.04673506319522858,
    0.013101022690534592,
    -0.06502900272607803,
    -0.07928650826215744,
    0.04088358208537102,
    0.10736125707626343,
    -0.007894334383308887,
    0.09805205464363098,
    0.028805837035179138,
    -0.06025488302111626,
    -9.043665788051269e-33,
    0.023506151512265205,
    -0.027553381398320198,
    -0.05839434638619423,
    0.048603255301713943,
    0.0685439482331276,
    0.014953618869185448,
    0.01460246741771698,
    0.03509914129972458,
    -0.006229762453585863,
    -0.0906304121017456,
    -0.05428248271346092,
    0.1050417423248291,
    0.028372447937726974,
    0.02417498268187046,
    -0.04998761788010597,
    0.08381515741348267,
    0.04831114038825035,
    0.013913929462432861,
    -0.03173653036355972,
    0.019138259813189507,
    0.038016971200704575,
    0.13173067569732666,
    0.009921192191541195,
    -0.02701961249113083,
    0.004456520080566406,
    0.0323922224342823,
    0.037804245948791504,
    0.04576026275753975,
    0.024690158665180206,
    -0.03544408828020096,
    0.11905181407928467,
    0.05882061645388603,
    -0.10351638495922089,
    0.08398883044719696,
    -0.02004960924386978,
    -0.07186851650476456,
    0.07142789661884308,
    0.02079082652926445,
    -0.11965777724981308,
    0.06319405138492584,
    0.12117628008127213,
    0.03932715579867363,
    -0.06471505761146545,
    -0.019594363868236542,
    0.031615786254405975,
    0.06907358020544052,
    0.07249581813812256,
    0.006254483480006456,
    -0.1154453307390213,
    0.01156594604253769,
    0.04861285164952278,
    -0.04907499626278877,
    0.04954173043370247,
    -0.010832170024514198,
    -0.01518677081912756,
    0.0518796443939209,
    0.0678827166557312,
    0.03584017977118492,
    0.030971162021160126,
    -0.06471791863441467,
    -0.008545368909835815,
    -0.019030090421438217,
    -0.017822418361902237,
    0.057465992867946625,
    -0.03481614589691162,
    -0.06034192815423012,
    -0.010807778686285019,
    0.14867864549160004,
    0.09457562118768692,
    -0.017638716846704483,
    -0.014717401005327702,
    -0.019237667322158813,
    0.018424561247229576,
    -0.04255499690771103,
    0.05804593116044998,
    0.0857589840888977,
    0.014706064946949482,
    -0.11206129193305969,
    0.0022097646724432707,
    0.0019002303015440702,
    -0.06257211416959763,
    -0.00336219510063529,
    -0.004201815463602543,
    -0.05107538029551506,
    -0.02496064268052578,
    0.025383487343788147,
    -0.04220564663410187,
    0.10880158096551895,
    0.06312479823827744,
    0.06432043015956879,
    -0.011751367710530758,
    0.03998332843184471,
    -0.026669258251786232,
    0.014879891648888588,
    0.037346258759498596,
    -6.434710542180255e-8,
    0.005694380961358547,
    0.010461079888045788,
    0.004078780300915241,
    -0.007947520352900028,
    0.02827821858227253,
    -0.032155998051166534,
    0.027503574267029762,
    -0.05807201936841011,
    -0.04479985684156418,
    -0.10251649469137192,
    -0.016631798818707466,
    0.05296487361192703,
    -0.03494826331734657,
    -0.08416903764009476,
    0.03653019294142723,
    -0.00637896778061986,
    0.006415005773305893,
    0.00449735764414072,
    -0.06521226465702057,
    -0.03146243095397949,
    -0.05795801430940628,
    -0.041221801191568375,
    -0.06478399783372879,
    0.047232527285814285,
    -0.11191031336784363,
    0.027354849502444267,
    0.009753516875207424,
    -0.03916799649596214,
    -0.02456015534698963,
    0.003282587742432952,
    -0.016619130969047546,
    0.031040016561746597,
    0.03445018082857132,
    -0.09530483186244965,
    -0.07784221321344376,
    0.07154465466737747,
    0.09287335723638535,
    0.010783938691020012,
    0.1302783191204071,
    0.06047186255455017,
    -0.022564450278878212,
    0.014066488482058048,
    -0.015068648383021355,
    -0.03497432917356491,
    -0.10788001865148544,
    -0.015640344470739365,
    -0.0054924883879721165,
    -0.04514556750655174,
    0.05070219561457634,
    -0.09651351720094681,
    -0.035185154527425766,
    -0.013537309132516384,
    -0.04647478833794594,
    -0.018904034048318863,
    0.000740830902941525,
    0.05470837652683258,
    0.03651820123195648,
    -0.033581942319869995,
    0.05908556655049324,
    0.01657642051577568,
    0.05676868185400963,
    0.013769222423434258,
    0.03777335584163666,
    0.016453567892313004
  ],
  "text": "**Welcome Screen Auth State Bug - FIXED ✅**\n\n**Problem**: Users seeing \"Create New Identity\" / \"Import Existing Identity\" buttons when app should auto-create nsec automatically.\n\n**Root Cause**: Race condition in `welcome_screen.dart` - only checked `isAuthenticated` boolean, which returns false during `AuthState.checking` and `AuthState.authenticating`.\n\n**Solution (TDD)**: \n\n1. **RED** - Wrote failing tests in `test/screens/welcome_screen_auth_state_test.dart`:\n   - `AuthState.checking` → Show CircularProgressIndicator\n   - `AuthState.authenticating` → Show CircularProgressIndicator\n   - `AuthState.authenticated` → Show \"Continue\" button\n   - `AuthState.unauthenticated` → Show Create/Import buttons\n\n2. **GREEN** - Fixed `lib/screens/welcome_screen.dart`:\n   - Added import for `AuthState`\n   - Changed from checking `isAuthenticated` boolean to checking full `authState`\n   - Added conditional: `if (authState == AuthState.checking || authState == AuthState.authenticating)` → Show loading spinner\n\n3. **VERIFY** - All 5 tests pass ✅\n\n**Files Modified**:\n- `lib/screens/welcome_screen.dart` - Added auth state handling\n- `test/screens/welcome_screen_auth_state_test.dart` - NEW comprehensive test file\n\n**Key Learning**: When using stateful services like AuthService, always check the full state enum, not just boolean helpers. Boolean helpers collapse multiple states and hide important intermediate states.\n\n**Test Gotcha**: CircularProgressIndicator animates continuously, so use `pump()` instead of `pumpAndSettle()` in tests or it will timeout.",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1762630852645,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-11-08/20-40-52-645980.md"
}